# 新媒体中心工作网站

这是一个为新媒体中心设计的工作管理网站，包含宣传主页、用户管理、任务分配、团队协作等功能。

## 功能特点

- **宣传主页**：展示中心介绍、最新动态和联系方式
- **用户管理**：多级权限控制，支持超级管理员、管理员、部门负责人和普通成员角色
- **任务管理**：发布、跟踪、完成任务的全流程管理
- **协作功能**：任务分配、进度更新、文件共享
- **数据统计**：任务完成率、逾期率等数据可视化

## 技术栈

### 前端
- Vue 3
- Element Plus UI 组件库
- 纯JavaScript (无需构建工具)

### 后端
- Node.js + Express
- 基于文件的JSON数据存储
- JWT身份验证

## 快速开始

### 环境要求
- Node.js 14.0 或更高版本

### 安装
1. 克隆项目到本地
```
git clone <项目地址> 易班工作站
cd 易班工作站
```

2. 安装依赖
```
npm install
```

3. 初始化数据
```
npm run init
```

4. 启动服务器
```
npm start
```

5. 在浏览器中访问 [http://localhost:25000](http://localhost:25000)

### 默认账号

| 用户名 | 密码 | 角色 |
|--------|------|------|
| admin | admin123 | 超级管理员 |
| manager1 | 123456 | 部门负责人 |
| user1 | 123456 | 普通成员 |

## 目录结构

```
易班工作站/
├── data/               # 数据存储目录
│   ├── init-data.js    # 初始化数据脚本
│   ├── users.json      # 用户数据
│   ├── departments.json # 部门数据
│   ├── tasks.json      # 任务数据
│   └── notifications.json # 通知数据
├── static/             # 静态资源
│   ├── css/            # 样式文件
│   │   └── main.css    # 主样式文件
│   └── js/             # JavaScript文件
│       ├── main.js     # 主应用入口
│       ├── components.js # Vue组件
│       ├── api.js      # API接口
│       └── store.js    # 状态管理
├── uploads/            # 文件上传目录
├── index.html          # 主页面
├── server.js           # 服务器入口
├── package.json        # 项目配置
└── README.md           # 项目说明
```

## 开发指南

### 前端开发

前端代码位于 `static` 目录下，采用了无构建工具的开发方式，直接在浏览器中运行。

主要文件说明：
- `main.js` - Vue应用入口，处理路由和全局状态
- `components.js` - 所有UI组件定义
- `api.js` - 与后端通信的接口定义
- `store.js` - 简单的状态管理

开发前端时，建议使用以下工作流：
1. 修改或创建组件
2. 在浏览器中测试功能
3. 确保响应式设计在不同设备上正常工作

### 后端开发

后端代码主要在项目根目录：
- `server.js` - Express服务器和API定义
- `data/` - 数据存储和初始化脚本

数据使用JSON文件存储，生产环境建议替换为数据库存储。

## 权限系统说明

系统包含四种角色，每种角色拥有不同的权限：

1. **超级管理员**
   - 可以查看和操作所有数据
   - 可以创建和管理所有角色的用户
   - 可以访问系统管理和数据统计功能

2. **管理员**
   - 可以查看所有任务数据
   - 可以创建和管理除超级管理员外的用户
   - 可以访问数据统计功能

3. **部门负责人**
   - 可以查看和管理本部门的任务
   - 可以为本部门成员分配任务
   - 可以查看本部门的任务统计数据

4. **普通成员**
   - 只能查看和操作与自己相关的任务
   - 可以更新自己负责的任务状态
   - 可以管理个人资料

## 部署指南

### 开发环境部署

```bash
# 安装依赖
npm install

# 启动开发服务器（带热重载）
npm run dev
```

### 生产环境部署

```bash
# 安装依赖（仅生产依赖）
npm install --production

# 初始化数据
npm run init

# 启动服务
npm start
```

建议在生产环境中使用 PM2 等工具管理 Node.js 进程：

```bash
# 安装PM2
npm install -g pm2

# 使用PM2启动应用
pm2 start server.js --name "yiban-workstation"
```

## 常见问题

### 问题: 登录失败，提示"账号或密码错误"
解决方案: 确认账号密码是否正确，默认超级管理员账号为admin/admin123

### 问题: 上传文件失败
解决方案: 检查uploads目录权限，确保应用有写入权限

### 问题: 服务启动后无法访问
解决方案: 检查端口(默认25000)是否被占用，可在server.js中修改PORT变量

## 未来计划

- [ ] 添加多语言支持
- [ ] 实现实时通知功能
- [ ] 集成第三方授权登录
- [ ] 添加移动端APP支持
- [ ] 数据库存储迁移方案

## 贡献指南

欢迎提交 Pull Request 或 Issue 来帮助改进这个项目。

## 许可证

MIT